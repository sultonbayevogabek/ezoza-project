<div class="grid place-items-center fixed inset-0 bg-black bg-opacity-45 overflow-auto" (click)="closeAddStory()">
  <div class="bg-white w-1/3 max-w-[500px] p-8 rounded-lg" (click)="$event.stopPropagation()">
    <div class="flex items-center justify-between mb-5">
      <div class="text-xl font-medium">Hikoya joylash</div>

      <svg
        (click)="closeAddStory()"
        class="w-4 h-4 cursor-pointer" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M13.2987 0.709727C12.9087 0.319727 12.2787 0.319727 11.8887 0.709727L6.99875 5.58973L2.10875 0.699727C1.71875 0.309727 1.08875 0.309727 0.69875 0.699727C0.30875 1.08973 0.30875 1.71973 0.69875 2.10973L5.58875 6.99973L0.69875 11.8897C0.30875 12.2797 0.30875 12.9097 0.69875 13.2997C1.08875 13.6897 1.71875 13.6897 2.10875 13.2997L6.99875 8.40973L11.8887 13.2997C12.2787 13.6897 12.9087 13.6897 13.2987 13.2997C13.6887 12.9097 13.6887 12.2797 13.2987 11.8897L8.40875 6.99973L13.2987 2.10973C13.6787 1.72973 13.6787 1.08973 13.2987 0.709727Z"
          fill="#000000"/>
      </svg>
    </div>

    @if (imagesBuffers.length) {
      <div class="grid grid-cols-3 gap-3 mb-4">
        @for (buffer of imagesBuffers; track buffer; let i = $index) {
          <div class="aspect-square rounded-lg overflow-hidden relative">
            <img class="w-full h-full object-cover" [src]="buffer" [alt]="">

            <div class="absolute top-2 right-2 w-10 h-10 rounded-full grid place-items-center bg-white p-3" (click)="removeImage(i)">
              <svg class="w-full" id="trash" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M9.36095 13H4.63905C4.26114 13 3.89715 12.8574 3.61987 12.6006C3.34259 12.3438 3.17245 11.9918 3.14347 11.615L2.5 3.25H11.5L10.8565 11.615C10.8275 11.9918 10.6574 12.3438 10.3801 12.6006C10.1028 12.8574 9.73886 13 9.36095 13V13Z"
                  stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12.3307 3.25H1.66406" stroke="#000000" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round"/>
                <path
                  d="M5.125 1H8.875C9.07391 1 9.26468 1.07902 9.40533 1.21967C9.54598 1.36032 9.625 1.55109 9.625 1.75V3.25H4.375V1.75C4.375 1.55109 4.45402 1.36032 4.59467 1.21967C4.73532 1.07902 4.92609 1 5.125 1V1Z"
                  stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8.3125 6.25V10" stroke="#000000" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round"/>
                <path d="M5.6875 6.25V10" stroke="#000000" stroke-width="1.5" stroke-linecap="round"
                      stroke-linejoin="round"/>
              </svg>
            </div>
          </div>
        }
      </div>
    }

    <form [formGroup]="storyForm" (ngSubmit)="createStory()">
      <label
        class="mb-3 bg-white text-gray-500 font-semibold text-base rounded-lg h-24 flex flex-col items-center justify-center cursor-pointer border border-gray-300 border-dashed mx-auto font-[sans-serif]">
        Rasm yuklash

        <input
          type="file"
          class="hidden"
          accept=".png, .jpeg, .jpg"
          #fileInput
          (change)="onImagesSelectedByFileInput($event)"
        />
        <p class="text-xs font-medium text-gray-400 mt-2">PNG, JPG 5 tagacha rasmga ruxsat etiladi</p>
      </label>

<!--      <textarea-->
<!--        id="message"-->
<!--        rows="4"-->
<!--        class="block p-2.5 w-full text-sm text-gray-900 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"-->
<!--        placeholder="Izohingizni yozing..."-->
<!--        [formControlName]="'comment'"-->
<!--      ></textarea>-->

      <button
        type="submit"
        [disabled]="storyForm.invalid"
        class="mt-3 inline-flex items-center py-4 px-6 text-xs font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800 disabled:bg-gray-400">
        Hikoyani joylash
      </button>
    </form>
  </div>
</div>
